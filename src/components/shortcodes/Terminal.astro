---
// ABOUTME: Terminal/code block component with macOS-style window chrome
// ABOUTME: Replaces Hugo's terminal shortcode

interface Props {
  title?: string;
}

const { title = 'Terminal' } = Astro.props;
---

<div class="terminal-window my-6 rounded-[var(--radius-md)] overflow-hidden border border-[#3d3d3d] bg-[#282828]">
  <!-- Window Chrome -->
  <header class="flex items-center gap-2 px-4 py-3 border-b border-[#3d3d3d]">
    <!-- Traffic Lights -->
    <div class="flex items-center gap-1.5">
      <span class="w-3 h-3 rounded-full bg-[#ff5f56]" aria-hidden="true"></span>
      <span class="w-3 h-3 rounded-full bg-[#ffbd2e]" aria-hidden="true"></span>
      <span class="w-3 h-3 rounded-full bg-[#27c93f]" aria-hidden="true"></span>
    </div>
    <!-- Title -->
    <span class="flex-1 text-center text-xs text-[#6b6b6b] font-mono">
      {title}
    </span>
    <!-- Spacer for symmetry -->
    <div class="w-[52px]"></div>
  </header>

  <!-- Content -->
  <div class="terminal-content p-4 font-mono text-sm overflow-x-auto">
    <slot />
  </div>
</div>

<style>
  /* Terminal text should always be light since background is always dark */
  .terminal-content {
    color: #e5e5e5;
  }

  .terminal-content :global(pre) {
    margin: 0;
    padding: 0;
    background: transparent;
    border: none;
    color: inherit;
  }

  .terminal-content :global(code) {
    background: transparent;
    padding: 0;
    font-size: inherit;
    color: inherit;
  }

  .terminal-content :global(p) {
    color: inherit;
    margin: 0;
  }

  /* Command prompt styling */
  .terminal-content :global(.prompt) {
    color: #E5A94E;
    user-select: none;
  }

  /* Output styling */
  .terminal-content :global(.output) {
    color: #a1a1a1;
  }
</style>
